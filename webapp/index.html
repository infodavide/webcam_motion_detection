<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Webcam motion detection</title>
  <meta name="robots" content="noindex,follow">
  <link rel="icon" type="image/ico" href="favicon.ico">
  <link href="css/external/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="js/external/jquery-3.3.1.min.js"></script>
  <script src="js/external/popper.min.js"></script>
  <script src="js/external/bootstrap.min.js"></script>
  <script src="js/external/jquery-ui.min.js"></script>
  <script src="js/external/jquery.timeago.js"></script>
  <link href="css/external/jquery-ui.min.css" rel="stylesheet" />
  <link href="css/external/jquery.jcrop.min.css" rel="stylesheet" />
  <script src="js/external/jquery.blockUI.js"></script>
  <link href="css/external/bootstrap-toggle.min.css" rel="stylesheet">
  <script src="js/external/bootstrap-toggle.min.js"></script>
  <script src="js/external/js.cookie.js"></script>
  <script src="js/external/jquery.download.min.js"></script>
  <script src="js/external/jquery.jcrop.min.js"></script>
  <script src="js/external/CLDRPluralRuleParser.js"></script>
  <script src="js/external/jquery.i18n.js"></script>
  <script src="js/external/jquery.i18n.messagestore.js"></script>
  <script src="js/external/jquery.i18n.fallbacks.js"></script>
  <script src="js/external/jquery.i18n.parser.js"></script>
  <script src="js/external/jquery.i18n.emitter.js"></script>
  <script src="js/external/jquery.i18n.language.js"></script>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/app.js" type="text/javascript"></script>
  <script src="js/external/md5.js" type="text/javascript"></script>
  <script src="js/form.js" type="text/javascript"></script>
  <script src="js/home.js" type="text/javascript"></script>
  <script src="js/setting.js" type="text/javascript"></script>
  <script src="js/detection_periods.js" type="text/javascript"></script>
  <script src="js/detection_filters.js" type="text/javascript"></script>
  <script src="js/detection_zone.js" type="text/javascript"></script>
  <script src="js/main.js" type="text/javascript"></script>
  <script src="js/authentication.js" type="text/javascript"></script>
</head>
<body>
  <div id="login_modal" class="modal fullscreen fade" role="dialog">
    <div class="modal-dialog modal-login modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" data-i18n="login"></h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body">
          <form id="signin_form" onsubmit="login('login_modal');return false;">
            <div class="form-group">
              <em class="fa fa-user"></em> <input type="text" id="signin_username" oninput="clearCustomValidity('signin_form');" autocomplete="name"
                class="form-control" data-i18n="[placeholder]username" required="required">
            </div>
            <div class="form-group">
              <em class="fa fa-lock"></em> <input type="password" id="signin_password" oninput="clearCustomValidity('signin_form');"
                autocomplete="current-password" class="form-control" data-i18n="[placeholder]password" required="required">
            </div>
            <div class="form-group">
              <input id="signin_login" type="submit" class="btn btn-primary btn-block btn-lg" data-i18n="[value]login">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <a href="#" onclick="sendPassword('login_modal')" data-i18n="forgot_password"></a>
        </div>
      </div>
    </div>
  </div>
  <div id="confirmation_modal" class="modal fullscreen fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-confirm-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="confirmation_modal_title" data-i18n="confirmation"></h4>
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        </div>
        <div class="modal-body" id="confirmation_modal_message">
          <p>No message set</p>
        </div>
        <div class="modal-footer">
          <input id="btn_cancel_confirmation" type="button" class="btn btn-cancel btn-primary btn-block btn-lg" value="Cancel" data-dismiss="modal"><input
            id="btn_submit_confirmation" type="submit" class="btn btn-danger btn-ok btn-primary btn-block btn-lg" value="Ok">
        </div>
      </div>
    </div>
  </div>
  <script>
  $("#confirmation_modal").on("show.bs.modal",function(e){
    var callback = $(e.relatedTarget).data("callback");
    var cancelCallback=$(e.relatedTarget).data("cancel-callback");
    if(!callback||0===callback.length){
      return;
    }
    console.log('Callback: '+callback);
    console.log('Cancel callback: '+cancelCallback);
    $(e.relatedTarget).data("callback","");
    var okButton=$(this).find(".btn-ok");
    var cancelButton=$(this).find(".btn-cancel");
    var closeButton=$("#confirmation_modal").find(".close");
    okButton.unbind("click");
    okButton.click(function(){
      eval(callback);
      closeButton.unbind("click");
      closeButton.click();
    });
    cancelButton.click(function(){
      if(cancelCallback&&0!==cancelCallback.length){
        eval(cancelCallback);
      }
    });
    closeButton.click(function(){
      if(cancelCallback&&0!==cancelCallback.length){
        eval(cancelCallback);
      }
    });
    $("#confirmation_modal_title").html($(e.relatedTarget).data("title"));
    var words=$(e.relatedTarget).data("message").split(' ');
    for(i=0;i<words.length;i++){
      words[i]=$.i18n(words[i]);
    }
    $("#confirmation_modal_message").html("<p>"+capitalize(words.join(' '))+"</p>");
  });
  </script>
  <div id="wrapper">
    <nav class="navbar navbar-inverse navbar-fixed-top" id="sidebar_wrapper" role="navigation">
      <ul class="nav sidebar-nav capitalized">
        <li class="sidebar-brand"><a href="#"> Webcam detection </a></li>
        <li><a href="#" id="sb_mni_home" onclick="showContent('home')" data-i18n="home"></a></li>
        <li class="admin-feature"><a href="#" id="sb_mni_detection_zone" onclick="showContent('detection_zone')" data-i18n="zone"></a></li>
        <li><a href="#" id="sb_mni_detection_periods" onclick="showContent('detection_periods')" data-i18n="periods"></a></li>
        <li class="admin-feature"><a href="#" id="sb_mni_detection_filters" onclick="showContent('detection_filters')" data-i18n="filters"></a></li>
        <li class="admin-feature"><a href="#" id="sb_mni_settings" onclick="showContent('settings')" data-i18n="settings"></a></li>
        <li><a href="https://www.infodavid.org" target="blank" data-i18n="our_website"></a></li>
      </ul>
    </nav>
    <div id="wrapper_content" class="content">
      <button type="button" id="btn_hamburger" class="hamburger is-closed" data-toggle="offcanvas">
        <span class="hamb-top"></span> <span class="hamb-middle"></span> <span class="hamb-bottom"></span>
      </button>
      <div id="menubar_wrapper">
        <div id="menubar_left_spacer"></div>
        <div class="menu btn-group">
          <div class="my-auto" style="display:inline-flex;">
            <div class="d-lg-block d-xl-block my-auto">
              <div class="menu-item clickable capitalized" id="mni_status" onclick="loadHealth(true)" data-i18n="[title]view_status"><span data-i18n="status"></span>: <span id="status"></span></div>
            </div>
            <div class="d-none d-lg-block d-xl-block my-auto">
              <div class="menu-item clickable capitalized" id="mni_system" onclick="showContent('system')" data-i18n="[title]view_system_status">&nbsp;-&nbsp;<span data-i18n="system"></span>: <span id="system_status"></span></div>
              <div class="menu-item clickable capitalized" id="mni_disk" onclick="showContent('disk')" data-i18n="[title]view_storage_status">&nbsp;-&nbsp;<span data-i18n="storage"></span>: <span id="storage_status"></span></div>
              <div class="menu-item clickable capitalized" id="mni_memory" onclick="showContent('memory')" data-i18n="[title]view_memory_status">&nbsp;-&nbsp;<span data-i18n="memory"></span>: <span id="memory_status"></span></div>
            </div>
            <div class="menu-item d-none d-lg-block d-xl-block my-auto" data-i18n="[title]refresh_manually_health_data">&nbsp;-&nbsp;<span class="clickable capitalized" onclick="loadHealth(true)" data-i18n="refresh"></span>
              <div class="dropdown" style="display: inline-block">
                <a class="btn btn-secondary dropdown-toggle capitalized" href="#" role="button" id="mni_refresh_value" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false" style="padding-top: 2px !important;" data-i18n="[title]set_refresh_time"><span id="refresh_time"></span></a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#" onclick="setRefreshTime(600)">10min</a> <a class="dropdown-item" href="#"
                    onclick="setRefreshTime(300)">5min</a> <a class="dropdown-item" href="#" onclick="setRefreshTime(120)">2min</a> <a
                    class="dropdown-item" href="#" onclick="setRefreshTime(60)">1min</a> <a class="dropdown-item" href="#"
                    onclick="setRefreshTime(30)">30s</a> <a class="dropdown-item" href="#" onclick="setRefreshTime(-1)" data-i18n="disabled"></a>
                </div>
              </div>
            </div>
          </div>
          <div class="menu-item my-auto" style="display:inline-flex !important;" data-i18n="[title]select_language"><div id="div_language" class="dropdown" style="display: inline-block">&nbsp;-&nbsp;<a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="mni_language" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false" style="padding-top: 2px !important;" data-i18n="language"><span id="language"></span></a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item capitalized" href="#" onclick="setLanguage('en');applyTranslations();" data-i18n="english"></a>
                <a class="dropdown-item capitalized" href="#" onclick="setLanguage('fr');applyTranslations();" data-i18n="french"></a>
                <a class="dropdown-item capitalized" href="#" onclick="setLanguage('it');applyTranslations();" data-i18n="italian"></a>
              </div>
            </div>
          </div>
          <div class="menu-item justify-content-end my-auto" style="display:inline-flex !important;" data-i18n="[title]sign_in">
            <div class="menu-item clickable capitalized" id="mni_login" data-toggle="modal" data-target="#login_modal" data-i18n="sign_in"></div>
            <div id="div_account" class="dropdown" style="display: none">&nbsp;-&nbsp;
              <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="mni_user_account" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false" style="padding-top: 2px !important;" data-i18n="[title]user_account"><span id="user_display_name"></span></a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" id="signout" href="#" onclick="logout()" data-i18n="disconnect"></a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div style="height:auto;min-height:100% !important;display:flex;top:40px;position:relative;">
        <div id="alert_messages">
          <div id="alert_message_template" class="alert alert-dismissible capitalized" style="display: none;">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <div class="row" style="border-width: 0;">
              <div class="col-sm-2" title="Icon">
                <span class="icon warning-icon"></span>
                <span style="font-size: small;"><time class="timeago"></time></span>
              </div>
              <div class="col-sm-10 capitalized message" data-i18n="[title]alert_message" style="text-overflow: ellipsis; overflow: hidden;"></div>
            </div>
          </div>
        </div>
        <div id="content" class="container" style="margin-bottom:45px;"></div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <span class="footer-icon"></span>
      </div>
    </footer>
  </div>
</body>
</html>
